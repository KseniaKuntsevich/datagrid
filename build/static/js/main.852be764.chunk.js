(this.webpackJsonpdatagrid=this.webpackJsonpdatagrid||[]).push([[0],{18:function(e,t,o){e.exports=o(31)},30:function(e,t,o){},31:function(e,t,o){"use strict";o.r(t);var a=o(0),n=o.n(a),l=o(5),i=o.n(l),s=o(6),r=o(7),c=o(11),u=o(8),d=o(10),p=o(4),m=o(1);var v=function(e){var t=e.content;return n.a.createElement("div",{onScroll:function(e){document.querySelectorAll(".sticky-horizontal").forEach((function(t){t.style.position="fixed",t.style.left=e.target.scrollLeft+14+"px"}))},className:"w-100 overflow-auto"},t.header,t.body)},h=o(17);var T=function(e){var t=e.todo,o=e.activeColumns,a=e.onClick,l=e.colClasses,i=e.isTableVirtual,s=18*o.length;s=s<100?100:s,s+="%";var r=function(e){var i=e.index,s=e.style;return n.a.createElement("div",{className:t[i].isActive?"row bg-secondary border-top":"row border-top",onClick:function(){return a(i)},style:s},o.map((function(e,o){var a="user"===e||"id"===e,s=a?"sticky-horizontal position-absolute w-100":"",r=a?{backgroundColor:t[i].isActive?"#6c757d":"#f8f9fa",zIndex:10,height:"36px"}:{};return n.a.createElement("div",{key:o,className:l[e]},n.a.createElement("div",{style:r,className:s},n.a.createElement("div",{className:"pl-4"}," ",t[i][e])))})))};return n.a.createElement("div",null,n.a.createElement("div",{className:"container-fluid"},i?n.a.createElement((function(){return n.a.createElement(h.a,{height:1e3,itemCount:t.length,itemSize:37,width:s},r)}),null):n.a.createElement((function(){return n.a.createElement("table",{style:{width:s}},n.a.createElement("tbody",null,t.map((function(e,t){return n.a.createElement("tr",null,n.a.createElement(r,{index:t}))}))))}),null)))};var g=function(e){var t=e.rows;return n.a.createElement("div",{className:"container-fluid p-0 m-0"},t.map((function(e,t){return n.a.createElement("div",{key:t},e)})))};var f=function(e){var t=e.list,o=e.onClick,a=e.activeTitle,l=e.activeTitles,i=e.activeTitleIsUp,s=e.colClasses,r=18*t.length;return r=r<100?100:r,r+="%",n.a.createElement("div",{style:{width:r,cursor:"pointer"},className:"row bg-light pl-3"},t.map((function(e,t){var r=e===a||l.indexOf(e)>-1,c=!l.length&&i,u=r?s[e]+" text-primary":s[e];return n.a.createElement("div",{key:t,onClick:function(){o(e)},className:u},n.a.createElement("div",{className:"p-2"},e," ",r?c?"/\\":"\\/":""))})))};var b=function(e){var t=e.titles,o=e.onClick,a=e.columnsStatus;return n.a.createElement("ul",{className:"pb-2 text-primary list-group list-group-horizontal pb-4"},t.map((function(e,t){return n.a.createElement("li",{key:t,className:a[e]?"list-group-item":"list-group-item text-secondary",onClick:function(){return o(e)}},e)})))};var y=function(e){var t=e.list,o=e.onClick,a=e.colClasses,l=["home","work","vocation","to buy"],i=function(e,t){var a=e.target.value.toLowerCase();localStorage.setItem(t,a),o(t,a)},s=function(e,t){return n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("input",{className:"form-control",defaultValue:localStorage.getItem(e),onBlur:function(t){return i(t,e)},placeholder:"search"}),n.a.createElement("button",{className:"btn btn-light border"},n.a.createElement("img",{src:"https://image.flaticon.com/icons/svg/482/482631.svg",style:{width:15},alt:"search"})))},r=[{value:"",name:"all"},{value:"yes",name:"yes"},{value:"no",name:"no"}],c={id:function(e,t){var o=localStorage.getItem("doubleRange1")||1,a=localStorage.getItem("doubleRange2")||1e3;return n.a.createElement("div",{id:"doubleRange",onChange:function(o){var a=document.getElementById("doubleRange").querySelectorAll(".doubleRange"),n=document.getElementById("doubleRange").querySelectorAll(".doubleRange-label"),l=+a[0].value,i=+a[1].value;n[0].textContent=l,n[1].textContent=i,localStorage.setItem("doubleRange1",l),localStorage.setItem("doubleRange2",i),t(e,[l,i])}},n.a.createElement("label",null,"from ",n.a.createElement("span",{className:"doubleRange-label"},o)),n.a.createElement("input",{defaultValue:o,type:"range",className:"custom-range doubleRange",min:"0",max:"1000",default:"1",step:"10",id:"customRange2"}),n.a.createElement("label",null,"to ",n.a.createElement("span",{className:"doubleRange-label"},a)),n.a.createElement("input",{defaultValue:a,type:"range",className:"custom-range doubleRange",min:"0",max:"1000",default:"1000",step:"10",id:"customRange2"}))},user:s,title:s,completed:function(e,t){return n.a.createElement("div",{className:"form",onChange:function(t){return i(t,e)}},r.map((function(t,o){return n.a.createElement("div",{key:o,className:"form-check form-check"},n.a.createElement("input",{className:"form-check-input",type:"radio",name:"inlineRadioOptions",id:"inlineRadio"+o,value:t.value,defaultChecked:localStorage.getItem(e)===t.value&&"checked"}),n.a.createElement("label",{className:"form-check-label",htmlFor:"inlineRadio"+o},t.name))})))},importance:function(e,t){return n.a.createElement("div",null,n.a.createElement("input",{onChange:function(o){t(e,"")},className:"form-check-input",type:"checkbox",name:"inlineRadioOptions",id:"rangeAll",value:"",defaultChecked:!localStorage.getItem(e)}),n.a.createElement("label",{className:"form-check-label",htmlFor:"inlineRadio"},"all"),n.a.createElement("input",{onChange:function(o){document.getElementById("rangeAll").checked=!1;var a=o.target.value;localStorage.setItem(e,a),t(e,a)},type:"range",className:"custom-range",min:"1",max:"10",defaultValue:localStorage.getItem(e),id:"customRange2"}))},category:function(e,t){var o=localStorage.getItem(e);return n.a.createElement("select",{defaultValue:o,onChange:function(t){return i(t,e)},className:"custom-select"},n.a.createElement("option",{value:""},"Choose..."),l.map((function(e,t){return n.a.createElement("option",{key:t,value:e},e)})))},date:s},u=18*t.length;return u=u<100?100:u,u+="%",n.a.createElement("div",{style:{width:u},className:"row bg-light pb-4 pl-3"},t.map((function(e,t){return n.a.createElement("div",{key:t,className:a[e]},c[e](e,o))})))};var C=function(e){var t=e.onClick;return n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("input",{className:"form-control",defaultValue:localStorage.getItem("mainSearch"),onBlur:function(e){var o=e.target.value.toLowerCase();localStorage.setItem("mainSearch",o),t("main",o)},placeholder:"Search all"}),n.a.createElement("button",{className:"btn btn-light border"},n.a.createElement("img",{src:"https://image.flaticon.com/icons/svg/482/482631.svg",style:{width:15},alt:"search"})))};var E=function(e){var t=e.todo,o=e.activeColumns;return n.a.createElement("div",{style:{cursor:"pointer"},onClick:function(){var e="data:text/csv;charset=utf-8,"+t.map((function(e){var t=o.join(", ")+"\n";return o.forEach((function(o,a){return t+=e[o]+" "})),t+="\n"})).join("\n"),a=encodeURI(e),n=document.createElement("a");n.setAttribute("href",a),n.setAttribute("download","my_data.csv"),document.body.appendChild(n),n.click()},className:"p-3 pb-4 text-right text-primary"},"Download",n.a.createElement("img",{alt:"csv",style:{width:20},className:"ml-2",src:"https://image.flaticon.com/icons/svg/1263/1263920.svg"}))};var S=function(e){var t=e.onClick,o=e.isActive,a="p-3 text-right ";return a+=o?"text-danger":"text-success",n.a.createElement("div",{className:a},n.a.createElement("span",{className:"font-weight-bolder",onClick:t},"Turn virtual ",o?"Off":"On"))},I=(o(23),function(e){function t(e){var o;return Object(s.a)(this,t),(o=Object(c.a)(this,Object(u.a)(t).call(this,e))).isShiftDown=!1,o.activeRows=[],o.onTittleClick=o.onTittleClick.bind(Object(m.a)(o)),o.onRowClick=o.onRowClick.bind(Object(m.a)(o)),o.deleteRow=o.deleteRow.bind(Object(m.a)(o)),o.onTittleSearch=o.onTittleSearch.bind(Object(m.a)(o)),o.onColumnToggle=o.onColumnToggle.bind(Object(m.a)(o)),o.onMultipleTittleClick=o.onMultipleTittleClick.bind(Object(m.a)(o)),o.onTableIsVirtualToogle=o.onTableIsVirtualToogle.bind(Object(m.a)(o)),o.activeFiltres=JSON.parse(localStorage.getItem("activeFiltres"))||{},o.titles=["id","user","title","completed","importance","category","date"],o.colClasses={id:"col-1",user:"col",title:"col-5",completed:"col",importance:"col",category:"col",date:"col-2"},document.addEventListener("keydown",(function(e){return o.isShiftDown="Shift"===e.key||o.isShiftDown})),document.addEventListener("keyup",(function(e){return o.isShiftDown="Shift"!==e.key&&o.isShiftDown})),o}return Object(d.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){var e=this;if(!this.props.todo.length){var t=["Tom Plushkin","Anna Jukova","Petya Petrov","Lev Andreevich"],o=["home","work","vocation","to buy"];fetch("https://jsonplaceholder.typicode.com/todos").then((function(e){return e.json()})).then((function(a){a.forEach((function(e){var a=new Date(2019,Math.floor(11*Math.random()),Math.floor(28*Math.random())+1);e.date=a.toLocaleString(),e.importance=Math.floor(10*Math.random())+1,e.user=t[Math.floor(4*Math.random())],e.category=o[Math.floor(4*Math.random())],e.completed=e.completed?"yes":"no"}));for(var n=200;n<1001;n++)a.push(Object.assign({},a[n-200])),a[n].id=n;var l={};e.titles.forEach((function(e){return l[e]=!0})),e.props.setTodoToRender(a),e.props.setTodo(a),e.props.setColumnsStatus(l),e.props.setActiveColumns(e.titles),e.props.setIsTodoLoaded(!0),localStorage.setItem("todoToRender",JSON.stringify(e.props.todoToRender)),localStorage.setItem("todo",JSON.stringify(e.props.todo)),localStorage.setItem("columnsStatus",JSON.stringify(e.props.columnsStatus)),localStorage.setItem("activeColumns",JSON.stringify(e.props.activeColumns)),localStorage.setItem("isTodoLoaded",!0)}))}}},{key:"getTodoFilteredBy",value:function(e,t){var o=this.activeFiltres;return t.length?o[e]=t:delete o[e],localStorage.setItem("activeFiltres",JSON.stringify(o)),this.props.todo.filter((function(e){return Object.keys(o).every((function(t){var a="main"===t?Object.keys(e).reduce((function(t,o){return t+e[o]}),""):e[t],n=o[t];return"importance"===t?+a===+n:"id"===t?+a>=n[0]&&+a<=n[1]:a.toLowerCase().indexOf(n)>-1}))}))}},{key:"onTableIsVirtualToogle",value:function(){this.props.setIsTableVirtual(!this.props.isTableVirtual)}},{key:"discardRows",value:function(){var e=this;this.activeRows.forEach((function(t){delete e.props.todoToRender[t].isActive})),this.activeRows=[]}},{key:"onRowClick",value:function(e){var t=Object(p.a)(this.props.todoToRender),o=this.activeRows.indexOf(e)>-1;t[e].isActive=!0,this.isShiftDown||this.discardRows(),o||this.activeRows.push(e),this.props.setTodoToRender(t)}},{key:"deleteRow",value:function(){var e=this,t=this.props.todoToRender.filter((function(t,o){return e.activeRows.indexOf(o)<0}));this.props.setTodoToRender(t),localStorage.setItem("todoToRender",JSON.stringify(t))}},{key:"getTodoSortedBy",value:function(e){return this.props.todo[0].hasOwnProperty(e)?Object(p.a)(this.props.todoToRender).sort((function(t,o){return t[e]<o[e]?-1:1})):this.props.todoToRender}},{key:"onTittleSearch",value:function(e,t){var o=this.getTodoFilteredBy(e,t);this.props.setActiveTitleIsUp(!1),this.props.setTodoToRender(o),localStorage.setItem("todoToRender",JSON.stringify(o)),localStorage.setItem("activeTitleIsUp",!1)}},{key:"onMultipleTittleClick",value:function(e){var t=this.props,o=t.activeTitles,a=t.setActiveTitles,n=t.activeTitle,l=t.todo,i=t.setTodoToRender;o.push(e),a(o);var s=Object(p.a)(l).sort((function(e,t){for(var a=e[n]<t[n]?-1:1,l=e[n]===t[n],i=0;l&&o[i];)a=e[o[i]]<t[o[i]]?-1:1,l=e[o[i]]===t[o[i]],i+=1;return a}));i(s),localStorage.setItem("todoToRender",JSON.stringify(s))}},{key:"onTittleClick",value:function(e){if(this.isShiftDown)this.onMultipleTittleClick(e);else{this.props.setActiveTitles([]);var t=this.props,o=t.activeTitle,a=t.activeTitleIsUp,n=t.todoToRender,l=e===o&&!a,i=e===o?Object(p.a)(n).reverse():this.getTodoSortedBy(e);this.props.setActiveTitle(e),this.props.setActiveTitleIsUp(l),this.props.setTodoToRender(i),localStorage.setItem("activeTitle",e),localStorage.setItem("activeTitleIsUp",l),localStorage.setItem("todoToRender",JSON.stringify(i))}}},{key:"onColumnToggle",value:function(e){var t=this.props,o=t.setColumnsStatus,a=t.setActiveColumns,n=t.columnsStatus;n[e]=!n[e],a(this.titles.filter((function(e){return n[e]}))),o(n),localStorage.setItem("activeColumns",JSON.stringify(this.titles.filter((function(e){return n[e]})))),localStorage.setItem("columnsStatus",JSON.stringify(n))}},{key:"render",value:function(){return n.a.createElement("div",{className:"container-fluid p-0"},n.a.createElement("div",{className:"p-4"},n.a.createElement(E,{todo:this.props.todoToRender,activeColumns:this.props.activeColumns}),n.a.createElement(S,{onClick:this.onTableIsVirtualToogle,isActive:this.props.isTableVirtual}),n.a.createElement(b,{onClick:this.onColumnToggle,titles:this.titles,columnsStatus:this.props.columnsStatus}),n.a.createElement("button",{onClick:this.deleteRow,className:"btn btn-outline-danger mb-3"},"Delete row"),n.a.createElement(C,{onClick:this.onTittleSearch})),this.props.isTodoLoaded?n.a.createElement(v,{content:{header:n.a.createElement(g,{rows:[n.a.createElement(f,{colClasses:this.colClasses,activeTitles:this.props.activeTitles,activeTitle:this.props.activeTitle,activeTitleIsUp:this.props.activeTitleIsUp,onClick:this.onTittleClick,list:this.props.activeColumns}),n.a.createElement(y,{colClasses:this.colClasses,onClick:this.onTittleSearch,list:this.props.activeColumns})]}),body:n.a.createElement(T,{isTableVirtual:this.props.isTableVirtual,colClasses:this.colClasses,onClick:this.onRowClick,activeColumns:this.props.activeColumns,todo:this.props.todoToRender})}}):"Processing...")}}]),t}(a.Component)),O=o(9),k={setTodoToRender:function(e){return{type:"CHANGE_TODO_TO_RENDER",payload:e}},setTodo:function(e){return{type:"CHANGE_TODO",payload:e}},setActiveTitle:function(e){return{type:"CHANGE_ACTIVE_TITLE",payload:e}},setActiveTitleIsUp:function(e){return{type:"CHANGE_ACTIVE_TITLE_IS_UP",payload:e}},setIsTodoLoaded:function(e){return{type:"CHANGE_IS_TODO_LOADED",payload:e}},setActiveColumns:function(e){return{type:"CHANGE_ACTIVE_COLUMNS",payload:e}},setColumnsStatus:function(e){return{type:"CHANGE_COLUMNS_STATUS",payload:e}},setActiveTitles:function(e){return{type:"CHANGE_ACTIVE_TITLES",payload:e}},setIsTableVirtual:function(e){return{type:"CHANGE_IS_TABLE_VIRTUAL",payload:e}}},N=function(e){function t(){return Object(s.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){return n.a.createElement(I,{activeTitle:this.props.activeTitle,activeTitleIsUp:this.props.activeTitleIsUp,isTodoLoaded:this.props.isTodoLoaded,todo:this.props.todo,todoToRender:this.props.todoToRender,activeColumns:this.props.activeColumns,columnsStatus:this.props.columnsStatus,activeTitles:this.props.activeTitles,isTableVirtual:this.props.isTableVirtual,setTodoToRender:this.props.setTodoToRender,setTodo:this.props.setTodo,setActiveTitle:this.props.setActiveTitle,setActiveTitleIsUp:this.props.setActiveTitleIsUp,setIsTodoLoaded:this.props.setIsTodoLoaded,setActiveColumns:this.props.setActiveColumns,setColumnsStatus:this.props.setColumnsStatus,setActiveTitles:this.props.setActiveTitles,setIsTableVirtual:this.props.setIsTableVirtual})}}]),t}(a.Component),R=Object(O.b)((function(e){return{activeTitle:e.app.activeTitle,activeTitleIsUp:e.app.activeTitleIsUp,isTodoLoaded:e.app.isTodoLoaded,todo:e.app.todo,todoToRender:e.app.todoToRender,activeColumns:e.app.activeColumns,columnsStatus:e.app.columnsStatus,activeTitles:e.app.activeTitles,isTableVirtual:e.app.isTableVirtual}}),k)(N);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o(30);var A=o(3),w=o(2),_={activeTitle:localStorage.getItem("activeTitle")||"id",activeTitleIsUp:"true"===localStorage.getItem("activeTitleIsUp"),isTodoLoaded:localStorage.getItem("isTodoLoaded")||!1,todo:JSON.parse(localStorage.getItem("todo"))||[],todoToRender:JSON.parse(localStorage.getItem("todoToRender"))||[],activeColumns:JSON.parse(localStorage.getItem("activeColumns"))||[],columnsStatus:JSON.parse(localStorage.getItem("columnsStatus"))||{},activeTitles:[],isTableVirtual:!0},j=Object(A.b)({app:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CHANGE_TODO":return Object(w.a)({},e,{todo:t.payload});case"CHANGE_TODO_TO_RENDER":return Object(w.a)({},e,{todoToRender:t.payload});case"CHANGE_ACTIVE_TITLE":return Object(w.a)({},e,{activeTitle:t.payload});case"CHANGE_ACTIVE_TITLE_IS_UP":return Object(w.a)({},e,{activeTitleIsUp:t.payload});case"CHANGE_IS_TODO_LOADED":return Object(w.a)({},e,{isTodoLoaded:t.payload});case"CHANGE_ACTIVE_COLUMNS":return Object(w.a)({},e,{activeColumns:t.payload});case"CHANGE_COLUMNS_STATUS":return Object(w.a)({},e,{columnsStatus:t.payload});case"CHANGE_ACTIVE_TITLES":return Object(w.a)({},e,{activeTitles:t.payload});case"CHANGE_IS_TABLE_VIRTUAL":return Object(w.a)({},e,{isTableVirtual:t.payload})}return e}}),L=Object(A.c)(j);i.a.render(n.a.createElement(O.a,{store:L},n.a.createElement(R,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[18,1,2]]]);
//# sourceMappingURL=main.852be764.chunk.js.map